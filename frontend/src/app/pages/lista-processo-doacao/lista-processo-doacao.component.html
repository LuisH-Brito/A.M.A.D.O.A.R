<div class="pagina">
    <div class="centralizando">
        
        <h2 class="titulo">Processos em Andamento</h2>
        
        <nav class="navegacao-abas" role="tablist" aria-label="Etapas de Doação">
            <button 
                role="tab"
                [attr.aria-selected]="abaAtiva === 'pre-triagem'"
                [class.ativo]="abaAtiva === 'pre-triagem'" 
                (click)="selecionarAba('pre-triagem')">
                Pré-Triagem
            </button>
            <button 
                role="tab"
                [attr.aria-selected]="abaAtiva === 'triagem'"
                [class.ativo]="abaAtiva === 'triagem'" 
                (click)="selecionarAba('triagem')">
                Triagem
            </button>
            <button 
                role="tab"
                [attr.aria-selected]="abaAtiva === 'coleta'"
                [class.ativo]="abaAtiva === 'coleta'" 
                (click)="selecionarAba('coleta')">
                Coleta
            </button>
        </nav>

        <div class="lista-container">
            <div class="lista-scroll">

                <ng-container *ngIf="abaAtiva === 'pre-triagem'">
                    <div *ngFor="let p of preTriagem" class="usuario-card">
                        <div class="info">Nome: {{ p.doador?.nome_completo || p.doador?.username }}</div>
                        <div class="acoes"><button class="btn-acao">Realizar Pré-triagem</button></div>
                    </div>
                    <div *ngIf="preTriagem.length === 0">Nenhum processo em pré-triagem.</div>
                </ng-container>

                <ng-container *ngIf="abaAtiva === 'triagem'">
                    <div *ngFor="let p of triagem" class="usuario-card">
                        <div class="info">Nome: {{ p.doador?.nome_completo || p.doador?.username }}</div>
                        <div class="acoes"><button class="btn-acao">Realizar Triagem</button></div>
                    </div>
                    <div *ngIf="triagem.length === 0">Nenhum processo em triagem.</div>
                </ng-container>

                <ng-container *ngIf="abaAtiva === 'coleta'">
                    <div *ngFor="let p of coleta" class="usuario-card">
                        <div class="info">Nome: {{ p.doador?.nome_completo || p.doador?.username }}</div>
                        <div class="acoes"><button class="btn-acao">Realizar Coleta</button></div>
                    </div>
                    <div *ngIf="coleta.length === 0">Nenhum processo em coleta.</div>
                </ng-container>

            </div>
        </div>
        
    </div>
</div>