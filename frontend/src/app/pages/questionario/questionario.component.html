<div class="pagina-questionario">
  
  <div class="triagem-card">
    
    <div class="header-secao">
      <div class="icone-circulo">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16">
          <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"/>
          <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z"/>
          <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3Z"/>
        </svg>
      </div>
      <h2>Triagem Online</h2>
      <p class="frase-motivacional">{{ fraseMotivacional }}</p>
    </div>

    <div *ngIf="carregando" class="mensagem-carregando">
      Carregando perguntas do sistema...
    </div>

    <ng-container *ngIf="!carregando && listaDePerguntas.length > 0">
      
      <app-perguntas
        [pergunta]="perguntaAtual"
        [respostaSalva]="respostaAtual" 
        (aoResponder)="lidarComResposta($event)">
      </app-perguntas>

      <div class="footer-navegacao">
        <button class="btn-seta" (click)="voltar()" [disabled]="passoAtual === 1">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
        </button>
        
        <span class="contador">{{ passoAtual }}/{{ totalPassos }}</span>
        
        <button class="btn-seta" *ngIf="passoAtual < totalPassos" (click)="avancar()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        </button>

        <button class="btn-finalizar" *ngIf="passoAtual === totalPassos" (click)="finalizar()">
          Finalizar Questionario
        </button>
      </div>
    </ng-container>

    <div *ngIf="!carregando && listaDePerguntas.length === 0" class="mensagem-erro">
      Nenhuma pergunta encontrada no sistema.
    </div>

  </div>
</div>